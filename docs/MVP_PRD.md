# 노션 기반 견적서 웹 뷰어 MVP PRD

버전: 1.0.0 | 작성일: 2026-02-20 | 상태: 초안

---

## 핵심 정보

**목적**: 프리랜서가 노션에서 입력한 견적서를 클라이언트가 별도 로그인 없이 웹 링크로 확인하고 PDF로 다운받을 수 있게 한다.
**사용자**: 노션을 사용하는 프리랜서 및 1인 개발자, 그리고 견적서 링크를 받는 클라이언트.

---

## 사용자 여정

```
[프리랜서]
1. 노션 데이터베이스에 견적서 항목 입력
   ↓ (서비스 최초 사용 시 회원가입 / 기존 사용자 로그인)

2. 로그인 페이지 또는 회원가입 페이지
   ↓ 인증 완료

3. 대시보드 페이지 (견적서 목록)
   ↓ '새 견적서 연동' 버튼 클릭

4. 견적서 연동 페이지
   - 노션 데이터베이스 ID 입력 및 연동
   - 견적서 항목 불러오기 확인
   ↓ '링크 생성' 버튼 클릭

5. 대시보드 페이지 (링크 생성 완료)
   - 고유 공개 링크(UUID 슬러그 기반) 자동 생성
   - 링크 복사 버튼으로 클라이언트에게 전달
   ↓

[클라이언트]
6. 견적서 뷰어 페이지
   - 전달받은 링크 클릭 → 로그인 없이 바로 접근
   ↓ 상태 분기

   [상태: 발송됨(Sent)] → 견적서 뷰어 페이지 → 내용 열람 가능
     ↓ 'PDF 다운로드' 버튼 클릭
     → PDF 다운로드 (window.print 방식)

   [상태: 초안(Draft) 또는 만료(Expired)] → 견적서 오류 안내 페이지
     → 담당자 연락 안내 메시지 표시
```

---

## 기능 명세

### 1. MVP 핵심 기능

| ID       | 기능명                 | 설명                                                                        | MVP 필수 이유                                       | 관련 페이지                         |
| -------- | ---------------------- | --------------------------------------------------------------------------- | --------------------------------------------------- | ----------------------------------- |
| **F001** | 노션 연동              | 노션 데이터베이스 ID를 입력해 견적서 데이터를 불러오고 공개 링크를 생성한다 | 서비스의 핵심 데이터 수집 경로                      | 견적서 연동 페이지                  |
| **F002** | 견적서 목록 조회       | 프리랜서가 생성한 견적서 목록과 각 상태(초안/발송/만료)를 확인한다          | 생성된 견적서를 관리하는 중심 허브                  | 대시보드 페이지                     |
| **F003** | 공개 링크 생성 및 복사 | UUID v4 기반 고유 URL을 생성하고 클립보드에 복사한다                        | 클라이언트에게 견적서를 전달하는 유일한 수단        | 대시보드 페이지, 견적서 연동 페이지 |
| **F004** | 견적서 상태 변경       | 견적서 상태를 초안/발송/만료로 변경해 접근 제어를 한다                      | 만료된 견적서에 클라이언트가 접근하지 못하도록 차단 | 대시보드 페이지                     |
| **F005** | 견적서 웹 뷰어         | UUID 슬러그 기반 URL로 견적서 전체 내용을 렌더링한다                        | 클라이언트가 서비스를 경험하는 핵심 기능            | 견적서 뷰어 페이지                  |
| **F006** | PDF 다운로드           | 뷰어 페이지에서 버튼 클릭 한 번으로 견적서를 PDF로 저장한다                 | 클라이언트의 핵심 니즈(사내 제출용 파일 필요)       | 견적서 뷰어 페이지                  |
| **F007** | 견적서 오류 안내       | 존재하지 않거나 만료/초안 상태의 링크 접근 시 안내 화면을 표시한다          | 클라이언트의 혼란을 방지하고 담당자 연락을 유도     | 견적서 오류 안내 페이지             |

### 2. MVP 필수 지원 기능

| ID       | 기능명                | 설명                                                                 | MVP 필수 이유                                         | 관련 페이지                    |
| -------- | --------------------- | -------------------------------------------------------------------- | ----------------------------------------------------- | ------------------------------ |
| **F010** | 기본 인증             | 회원가입, 로그인, 로그아웃만 제공 (이메일 + 비밀번호)                | 프리랜서 계정 격리 및 견적서 소유권 관리              | 로그인 페이지, 회원가입 페이지 |
| **F011** | 기본 사용자 정보 관리 | 회사명(발행인 이름)과 연락처 등 견적서에 표시될 최소 정보를 저장한다 | 견적서 뷰어에 발행인 정보를 출력하기 위한 최소 데이터 | 사용자 정보 설정 페이지        |

### 3. MVP 이후 기능 (제외)

- 고객 승인/거절 기능
- 열람 이력 로깅 (시각, IP 기록)
- 이메일 자동 발송
- 슬러그 재발급 (링크 무효화)
- 프로필 상세 관리 (아바타, 자기소개)
- 알림 시스템
- 다국어 지원

---

## 메뉴 구조

```
비로그인 사용자 메뉴
├── 서비스 소개 (랜딩 페이지)
├── 로그인 - F010
└── 회원가입 - F010

프리랜서 메뉴 (로그인 후)
├── 대시보드
│   └── 기능: F002 (견적서 목록 조회), F003 (공개 링크 복사), F004 (상태 변경)
├── 견적서 연동
│   └── 기능: F001 (노션 연동), F003 (공개 링크 생성)
└── 내 정보 설정
    └── 기능: F011 (기본 사용자 정보 관리)

공통 메뉴 (모든 로그인 사용자)
└── 로그아웃 - F010

클라이언트 접근 (로그인 불필요)
└── 견적서 뷰어 - F005, F006, F007
```

---

## 페이지별 상세 기능

### 랜딩 페이지

> **구현 기능:** 없음 (정적 소개 페이지) | **인증:** 불필요

| 항목            | 내용                                                                                                      |
| --------------- | --------------------------------------------------------------------------------------------------------- |
| **역할**        | 서비스 소개 및 프리랜서 회원가입/로그인 유도                                                              |
| **진입 경로**   | 서비스 도메인 루트 직접 접근                                                                              |
| **사용자 행동** | 서비스 기능을 파악하고 회원가입 또는 로그인 버튼을 클릭한다                                               |
| **주요 기능**   | 서비스 핵심 가치 설명 (노션 연동 → 링크 공유 → PDF 다운로드)<br>**회원가입 시작** 버튼<br>**로그인** 버튼 |
| **다음 이동**   | 회원가입 버튼 → 회원가입 페이지, 로그인 버튼 → 로그인 페이지                                              |

---

### 로그인 페이지

> **구현 기능:** `F010` | **인증:** 불필요

| 항목            | 내용                                                                                                                                                         |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **역할**        | 기존 프리랜서 계정 인증 전용 페이지                                                                                                                          |
| **진입 경로**   | 랜딩 페이지 로그인 버튼 클릭, 또는 비로그인 상태에서 대시보드 접근 시 자동 리디렉션                                                                          |
| **사용자 행동** | 이메일과 비밀번호를 입력하고 로그인 버튼을 클릭한다                                                                                                          |
| **주요 기능**   | 이메일/비밀번호 입력 폼<br>입력값 유효성 검증 (빈 값, 이메일 형식)<br>로그인 실패 시 인라인 오류 메시지 표시<br>**로그인** 버튼<br>회원가입 페이지 이동 링크 |
| **다음 이동**   | 성공 → 대시보드 페이지, 실패 → 오류 메시지 표시 후 동일 페이지 유지                                                                                          |

---

### 회원가입 페이지

> **구현 기능:** `F010` | **인증:** 불필요

| 항목            | 내용                                                                                                                                                                                  |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 신규 프리랜서 계정 생성 전용 페이지                                                                                                                                                   |
| **진입 경로**   | 랜딩 페이지 회원가입 버튼 클릭, 또는 로그인 페이지 내 회원가입 링크 클릭                                                                                                              |
| **사용자 행동** | 이메일, 비밀번호, 비밀번호 확인을 입력하고 계정을 생성한다                                                                                                                            |
| **주요 기능**   | 이메일/비밀번호/비밀번호 확인 입력 폼<br>입력값 유효성 검증 (이메일 중복, 비밀번호 일치 여부)<br>가입 실패 시 인라인 오류 메시지 표시<br>**회원가입** 버튼<br>로그인 페이지 이동 링크 |
| **다음 이동**   | 성공 → 사용자 정보 설정 페이지 (최초 1회 정보 입력 유도), 실패 → 오류 메시지 표시 후 동일 페이지 유지                                                                                 |

---

### 사용자 정보 설정 페이지

> **구현 기능:** `F011` | **인증:** 로그인 필요

| 항목            | 내용                                                                                                          |
| --------------- | ------------------------------------------------------------------------------------------------------------- |
| **역할**        | 견적서 발행인 정보(회사명, 연락처 등)를 저장하는 설정 페이지                                                  |
| **진입 경로**   | 회원가입 완료 후 자동 이동 (최초 1회), 또는 메뉴에서 '내 정보 설정' 클릭                                      |
| **사용자 행동** | 견적서에 표시될 발행인 이름, 회사명, 이메일, 연락처를 입력하고 저장한다                                       |
| **주요 기능**   | 발행인 이름/회사명/이메일/연락처 입력 폼<br>입력값 유효성 검증<br>저장 성공/실패 토스트 알림<br>**저장** 버튼 |
| **다음 이동**   | 저장 성공 → 대시보드 페이지                                                                                   |

---

### 대시보드 페이지

> **구현 기능:** `F002`, `F003`, `F004` | **인증:** 로그인 필요

| 항목            | 내용                                                                                                                                                                                                                                                  |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 프리랜서가 생성한 모든 견적서를 한눈에 확인하고 관리하는 중심 페이지                                                                                                                                                                                  |
| **진입 경로**   | 로그인 성공 후 자동 리디렉션, 또는 메뉴에서 '대시보드' 클릭                                                                                                                                                                                           |
| **사용자 행동** | 견적서 목록을 확인하고, 공개 링크를 복사하거나, 견적서 상태를 변경하고, 새 견적서 연동을 시작한다                                                                                                                                                     |
| **주요 기능**   | 견적서 목록 카드 형식 표시 (견적서 번호, 클라이언트명, 발행일, 유효기간, 상태 배지)<br>상태별 필터 (전체/초안/발송/만료)<br>공개 링크 복사 버튼 (클립보드 복사 후 토스트 알림)<br>상태 변경 드롭다운 (초안/발송/만료 전환)<br>**새 견적서 연동** 버튼 |
| **다음 이동**   | 새 견적서 연동 버튼 → 견적서 연동 페이지                                                                                                                                                                                                              |

---

### 견적서 연동 페이지

> **구현 기능:** `F001`, `F003` | **인증:** 로그인 필요

| 항목            | 내용                                                                                                                                                                                                                                                                                           |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 노션 데이터베이스를 연동하여 견적서 데이터를 가져오고 공개 링크를 생성하는 페이지                                                                                                                                                                                                              |
| **진입 경로**   | 대시보드 페이지에서 '새 견적서 연동' 버튼 클릭                                                                                                                                                                                                                                                 |
| **사용자 행동** | 노션 데이터베이스 ID를 입력하고 연동 버튼을 클릭해 데이터를 가져온 뒤, 정상 확인 후 링크를 생성한다                                                                                                                                                                                            |
| **주요 기능**   | 노션 데이터베이스 ID 입력 필드<br>노션 연동 유효성 검증 (API 응답 확인)<br>불러온 견적서 미리보기 (항목명, 금액, 상태 등 주요 필드 확인)<br>연동 실패 시 오류 메시지 표시 (잘못된 ID, 권한 없음 등)<br>UUID v4 기반 공개 링크 자동 생성<br>생성된 링크 복사 버튼<br>**연동 및 링크 생성** 버튼 |
| **다음 이동**   | 링크 생성 성공 → 대시보드 페이지 (새로 생성된 견적서 카드 확인), 실패 → 오류 메시지 표시 후 동일 페이지 유지                                                                                                                                                                                   |

---

### 견적서 뷰어 페이지

> **구현 기능:** `F005`, `F006` | **인증:** 불필요 (공개 접근)

| 항목            | 내용                                                                                                                                                                                                                                                                                                |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 클라이언트가 링크로 접근해 견적서 전체 내용을 열람하는 핵심 공개 페이지                                                                                                                                                                                                                             |
| **진입 경로**   | 프리랜서가 공유한 UUID 슬러그 기반 URL 직접 접근 (로그인 불필요)                                                                                                                                                                                                                                    |
| **사용자 행동** | 견적서 내용을 읽고 PDF 다운로드 버튼을 클릭한다                                                                                                                                                                                                                                                     |
| **주요 기능**   | 발행인 정보 표시 (회사명, 연락처)<br>클라이언트 정보 표시 (클라이언트명, 발행일, 유효기간)<br>견적 항목 테이블 (항목명, 수량, 단위, 단가, 금액)<br>금액 합계 표시 (소계, 세금, 합계, 원화 형식)<br>메모/특이사항 표시<br>반응형 레이아웃 (모바일 지원)<br>**PDF 다운로드** 버튼 (window.print 호출) |
| **다음 이동**   | PDF 다운로드 버튼 클릭 → 브라우저 인쇄 다이얼로그 표시                                                                                                                                                                                                                                              |

---

### 견적서 오류 안내 페이지

> **구현 기능:** `F007` | **인증:** 불필요

| 항목            | 내용                                                                                                                                                                                                               |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **역할**        | 유효하지 않은 견적서 링크에 접근한 클라이언트에게 상황별 안내 메시지를 표시하는 페이지                                                                                                                             |
| **진입 경로**   | 존재하지 않는 슬러그 접근 시, 또는 상태가 초안/만료인 견적서 링크 접근 시 자동 표시                                                                                                                                |
| **사용자 행동** | 오류 상황을 인지하고 담당자에게 재발송을 요청한다                                                                                                                                                                  |
| **주요 기능**   | 오류 유형별 안내 메시지 표시<br>- 존재하지 않는 링크: '견적서를 찾을 수 없습니다'<br>- 만료된 링크: '유효기간이 만료된 견적서입니다'<br>- 아직 발송 전: '아직 공개되지 않은 견적서입니다'<br>담당자 연락 안내 문구 |
| **다음 이동**   | 없음 (정적 안내 화면)                                                                                                                                                                                              |

---

## 데이터 모델

### User (프리랜서 계정)

| 필드        | 설명                             | 타입/관계 |
| ----------- | -------------------------------- | --------- |
| id          | 고유 식별자                      | UUID      |
| email       | 로그인 이메일                    | String    |
| companyName | 견적서에 표시될 회사명 또는 이름 | String    |
| phone       | 연락처                           | String    |
| createdAt   | 계정 생성 시각                   | Timestamp |

### Invoice (견적서)

| 필드             | 설명                                 | 타입/관계       |
| ---------------- | ------------------------------------ | --------------- |
| id               | 고유 식별자                          | UUID            |
| userId           | 소유 프리랜서                        | -> User.id      |
| publicSlug       | 클라이언트 공개 URL 슬러그 (UUID v4) | String (Unique) |
| notionDatabaseId | 연동된 노션 데이터베이스 ID          | String          |
| notionPageId     | 연동된 노션 페이지/레코드 ID         | String          |
| invoiceNo        | 견적서 번호 (예: INV-2026-001)       | String          |
| clientName       | 클라이언트 이름 또는 회사명          | String          |
| issueDate        | 발행일                               | Date            |
| validUntil       | 유효기간 만료일                      | Date            |
| status           | 견적서 상태 (Draft/Sent/Expired)     | Enum            |
| subtotal         | 세금 제외 소계                       | Integer         |
| taxRate          | 세율 (기본값 10)                     | Integer         |
| total            | 세금 포함 합계                       | Integer         |
| notes            | 클라이언트에게 전달할 메모           | String          |
| createdAt        | 레코드 생성 시각                     | Timestamp       |

### InvoiceItem (견적 항목)

| 필드        | 설명                   | 타입/관계     |
| ----------- | ---------------------- | ------------- |
| id          | 고유 식별자            | UUID          |
| invoiceId   | 연결된 견적서          | -> Invoice.id |
| itemName    | 항목명 (예: UI 디자인) | String        |
| description | 항목 세부 설명         | String        |
| quantity    | 수량 또는 공수         | Integer       |
| unit        | 단위 (개/일/시간/식)   | String        |
| unitPrice   | 단가                   | Integer       |
| amount      | 금액 (수량 x 단가)     | Integer       |

---

## 기술 스택

### 프론트엔드 프레임워크

- **Next.js 15** (App Router) - React 풀스택 프레임워크, 서버 컴포넌트 기본 사용
- **React 19** - UI 라이브러리 (최신 동시성 기능)
- **TypeScript 5.6+** - 타입 안전성 보장 (strict 모드)

### 스타일링 및 UI

- **TailwindCSS v4** - 설정 파일 없는 새로운 CSS 엔진 (`@import "tailwindcss"` 방식)
- **shadcn/ui** - 고품질 React 컴포넌트 라이브러리 (style: new-york)
- **Lucide React** - 아이콘 라이브러리

### 폼 및 검증

- **React Hook Form 7.x** - 폼 상태 관리
- **Zod** - 스키마 검증 라이브러리

### 백엔드 및 데이터베이스

- **Supabase** - BaaS (이메일 인증, PostgreSQL 데이터베이스)
- **PostgreSQL** - 관계형 데이터베이스 (Supabase 포함)
- **@notionhq/client** - 노션 공식 API SDK (견적서 데이터 조회)

### 알림

- **sonner** - 토스트 알림 (링크 복사 성공, 저장 완료 등)

### 배포 및 호스팅

- **Vercel** - Next.js 15 최적화 배포 플랫폼

### 패키지 관리

- **npm** - 의존성 관리

---

## 정합성 검증 결과

### 1단계: 기능 명세 -> 페이지 연결 검증

| 기능 ID | 기능명                 | 관련 페이지 (명세)                  | 페이지 상세 기능 존재 여부   |
| ------- | ---------------------- | ----------------------------------- | ---------------------------- |
| F001    | 노션 연동              | 견적서 연동 페이지                  | 견적서 연동 페이지 존재      |
| F002    | 견적서 목록 조회       | 대시보드 페이지                     | 대시보드 페이지 존재         |
| F003    | 공개 링크 생성 및 복사 | 대시보드 페이지, 견적서 연동 페이지 | 두 페이지 모두 존재          |
| F004    | 견적서 상태 변경       | 대시보드 페이지                     | 대시보드 페이지 존재         |
| F005    | 견적서 웹 뷰어         | 견적서 뷰어 페이지                  | 견적서 뷰어 페이지 존재      |
| F006    | PDF 다운로드           | 견적서 뷰어 페이지                  | 견적서 뷰어 페이지 존재      |
| F007    | 견적서 오류 안내       | 견적서 오류 안내 페이지             | 견적서 오류 안내 페이지 존재 |
| F010    | 기본 인증              | 로그인 페이지, 회원가입 페이지      | 두 페이지 모두 존재          |
| F011    | 기본 사용자 정보 관리  | 사용자 정보 설정 페이지             | 사용자 정보 설정 페이지 존재 |

**결과: 모든 기능 ID가 대응 페이지에 구현됨 - 통과**

### 2단계: 메뉴 구조 -> 페이지 연결 검증

| 메뉴 항목    | 참조 기능 ID     | 대응 페이지 존재 여부                       |
| ------------ | ---------------- | ------------------------------------------- |
| 서비스 소개  | 없음             | 랜딩 페이지 존재                            |
| 로그인       | F010             | 로그인 페이지 존재                          |
| 회원가입     | F010             | 회원가입 페이지 존재                        |
| 대시보드     | F002, F003, F004 | 대시보드 페이지 존재                        |
| 견적서 연동  | F001, F003       | 견적서 연동 페이지 존재                     |
| 내 정보 설정 | F011             | 사용자 정보 설정 페이지 존재                |
| 견적서 뷰어  | F005, F006, F007 | 견적서 뷰어 페이지 및 오류 안내 페이지 존재 |

**결과: 모든 메뉴 항목의 대응 페이지 존재 - 통과**

### 3단계: 페이지별 상세 기능 -> 역참조 검증

| 페이지명                | 구현 기능 ID     | 기능 명세 정의 여부 | 메뉴 접근 가능 여부           |
| ----------------------- | ---------------- | ------------------- | ----------------------------- |
| 랜딩 페이지             | 없음             | 해당 없음           | 루트 도메인 직접 접근 가능    |
| 로그인 페이지           | F010             | 정의됨              | 비로그인 메뉴 접근 가능       |
| 회원가입 페이지         | F010             | 정의됨              | 비로그인 메뉴 접근 가능       |
| 사용자 정보 설정 페이지 | F011             | 정의됨              | 로그인 메뉴 접근 가능         |
| 대시보드 페이지         | F002, F003, F004 | 모두 정의됨         | 로그인 메뉴 접근 가능         |
| 견적서 연동 페이지      | F001, F003       | 모두 정의됨         | 대시보드 버튼으로 접근 가능   |
| 견적서 뷰어 페이지      | F005, F006       | 모두 정의됨         | 공개 URL로 직접 접근 가능     |
| 견적서 오류 안내 페이지 | F007             | 정의됨              | 잘못된 링크 접근 시 자동 표시 |

**결과: 모든 페이지가 기능 명세 및 메뉴와 연결됨 - 통과**

### 4단계: 누락 및 고아 항목 검증

- 기능 명세에만 있고 페이지에서 구현되지 않은 기능: **없음**
- 페이지에만 있고 기능 명세에 정의되지 않은 기능: **없음**
- 메뉴에만 있고 실제 페이지가 없는 항목: **없음**

**결과: 누락 및 고아 항목 없음 - 통과**

**최종 정합성 검증: 4단계 모두 통과**
