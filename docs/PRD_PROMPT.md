# PRD_PROMPT.md

# 메타 프롬프트 — 노션 연동 견적서 웹 뷰어 MVP PRD 작성용

> **사용법**: 이 파일의 `[프롬프트 시작]` ~ `[프롬프트 끝]` 사이의 전체 텍스트를
> Claude Code 대화창에 붙여넣으면 PRD 문서가 생성됩니다.

---

## 컨텍스트 (Claude Code가 참고할 프로젝트 정보)

- 프로젝트 루트: `C:\dev\Study-07\invoice-web`
- 기술 스택: Next.js 16 (App Router) · React 19 · TypeScript · Tailwind CSS v4 · shadcn/ui (new-york) · lucide-react
- 참고 파일: `CLAUDE.md` (아키텍처 및 코딩 컨벤션)

---

---

## [프롬프트 시작]

당신은 시니어 프로덕트 매니저 겸 풀스택 개발 전문가다.
아래 요구사항과 제약조건을 반드시 준수하여 **한국어로** MVP PRD 문서를 작성하라.

## 제품 개요

노션(Notion)에 입력된 견적서 데이터를
클라이언트(고객)가 전용 URL로 웹에서 열람하고 PDF로 저장할 수 있는
**견적서 웹 뷰어 MVP** 를 만든다.

## 기술 제약

- 프론트엔드: Next.js 16 App Router (RSC 우선), TypeScript strict, Tailwind CSS v4, shadcn/ui (new-york style)
- 백엔드/데이터: Notion API (공식 SDK `@notionhq/client`) 를 데이터 소스로 사용
- PDF 생성: 브라우저 내 인쇄(`window.print`) 또는 `@react-pdf/renderer` 중 MVP에 적합한 방식 권장 및 이유 명시
- 인프라: Vercel 배포 기준
- 인증: MVP 범위에서는 추측 불가능한 UUID 기반 공개 URL로 대체 (로그인 없음)
- 테스트: 단위 테스트 제외, E2E 최소화 — MVP 속도 우선

## PRD 문서 구성 (섹션 순서와 헤딩을 정확히 따를 것)

### 1. 제품 비전 및 목표

- 한 문장 비전 (제품이 해결하는 핵심 문제)
- MVP 성공 지표 3가지 (정량적으로 작성)

### 2. 사용자 스토리

아래 두 역할(페르소나)에 대해 각각 사용자 스토리를 `As a … I want … so that …` 형식으로 3개씩 작성한다.

- **관리자(Admin)**: 노션에서 견적서를 작성·관리하는 사람
- **클라이언트(Client)**: 견적서 링크를 받아 열람하는 고객

### 3. 기능 요구사항 (Functional Requirements)

MVP에 포함할 기능을 **Must Have / Should Have / Won't Have (이번 MVP)** 로 분류하여 표(Markdown table)로 작성한다.
각 행에는 기능명, 설명, 우선순위, 관련 페르소나를 포함한다.

### 4. 데이터 모델 — Notion DB 스키마

견적서 Notion Database에 필요한 필드를 아래 표 형식으로 정의한다.

| 필드명 | Notion 속성 타입 | 설명 | 필수 여부 |
| ------ | ---------------- | ---- | --------- |
| ...    | ...              | ...  | ...       |

최소한 다음 필드를 포함해야 한다:
견적서 번호, 클라이언트명, 발행일, 유효기간, 항목(Items) 관계형 or 다중선택, 소계·세금·합계 계산, 메모, 공개 URL 슬러그(UUID), 상태(초안/발송/승인/만료)

### 5. 시스템 아키텍처 다이어그램 (텍스트 기반)

Mermaid 코드블록(`\`\`\`mermaid`)으로 다음 흐름을 표현한다:
관리자 → Notion DB 입력 → Notion API → Next.js Route Handler(캐시) → 웹 뷰어 페이지 → 클라이언트 PDF 다운로드

### 6. 핵심 화면 명세 (Screen Spec)

각 화면에 대해 다음 항목을 작성한다: 화면명, URL 패턴, 주요 컴포넌트, 데이터 출처, 사용자 인터랙션.
포함할 화면:

1. 견적서 뷰어 (`/invoice/[slug]`)
2. 만료 또는 존재하지 않는 견적서 에러 화면
3. PDF 인쇄 전용 뷰 (`/invoice/[slug]/print`)

### 7. API 설계

Next.js Route Handler 기준으로 아래 표를 작성한다.

| Method | 경로 | 설명 | 응답 형식 |
| ------ | ---- | ---- | --------- |

최소 포함 엔드포인트: 견적서 단건 조회, (어드민용) 슬러그 재발급

### 8. 비기능 요구사항 (Non-Functional Requirements)

- 성능: 초기 로드 목표 (LCP 기준)
- 보안: Notion API 키 보호 방법, Rate Limit 대응
- 접근성: 최소 WCAG 기준
- 다국어: MVP 범위 명시 (한국어 우선 여부)

### 9. 마일스톤 & 태스크 브레이크다운

MVP를 **3개 스프린트(각 1주)** 로 나눠 주요 태스크를 작성한다.
각 스프린트는 목표 한 줄 + 태스크 목록 (체크박스 형식)으로 구성한다.

### 10. 미결 사항 (Open Questions)

PRD 작성 과정에서 결정되지 않은 사항을 3~5개 나열한다.
각 항목에 `결정 필요 이유`와 `권장 방향`을 포함한다.

## 출력 규칙

1. 문서 최상단에 다음 헤더를 반드시 포함한다:
   ```
   # 견적서 웹 뷰어 MVP — PRD
   버전: 0.1.0 | 작성일: {오늘 날짜} | 상태: 초안
   ```
2. 섹션 번호와 헤딩을 위의 순서와 동일하게 유지한다.
3. 모든 기술 용어는 한국어 설명과 함께 영문 병기한다. 예) `서버 컴포넌트(Server Component)`
4. 코드 블록은 언어 태그를 반드시 명시한다. 예) ` ```typescript `
5. 의사결정이 필요한 부분에는 `> ⚠️ 결정 필요:` 인용구를 삽입한다.
6. 문서 길이: 섹션당 과도하게 짧지 않게, 전체 2,000자 이상으로 작성한다.
7. 파일 저장 경로는 `docs/PRD.md` 로 지정하고, 문서 말미에 저장 명령을 안내한다.

---

## [프롬프트 끝]

## 사용 예시

```
# 터미널에서 Claude Code 실행 후, 위 프롬프트를 붙여넣기
$ claude

# 또는 이 파일을 직접 참조시키기
> docs/PRD_PROMPT.md 파일의 프롬프트를 실행해서 PRD를 작성해줘
```

## 프롬프트 커스터마이징 가이드

| 변경 포인트              | 수정 위치             | 예시                             |
| ------------------------ | --------------------- | -------------------------------- |
| PDF 라이브러리 선택 강제 | §기술 제약 > PDF 생성 | `window.print` 만 사용으로 고정  |
| 스프린트 수 조정         | §9 마일스톤           | 2스프린트로 축소                 |
| 추가 화면                | §6 핵심 화면 명세     | 견적서 목록 페이지 추가          |
| 인증 방식 변경           | §기술 제약 > 인증     | NextAuth.js 기반 로그인으로 전환 |
| 다국어 지원              | §8 비기능 > 다국어    | 영문 견적서 지원 추가            |
